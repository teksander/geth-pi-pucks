#!/bin/bash

# [PATHS]
if [ $USER == "eksander" ]; then
  export BASE_FOLDER="geth-pi-pucks"
  export MONITOR_NAME="eksander"
elif [ $USER == "ubuntu" ]; then
  export BASE_FOLDER="blockchain_robots/geth-pi-pucks"
  export MONITOR_NAME="ubuntu"
fi


export EXPERIMENT_FOLDER="robots"
export BLOCKCHAIN_FOLDER="blockchain"

export ROBOTS_NAME="pi"


export MAIN_DIR="/home/$USER/$BASE_FOLDER"
export MAIN_DIR_ROBOTS="/home/$ROBOTS_NAME/geth-pi-pucks"

export CONTRACT_NAME="ForagingPtManagement"
export GENESIS_NAME="pipucks"

# [FILES]
export IDS_FILE="$MAIN_DIR/monitor/pi-pucks.txt"
export GENESIS_FILE="$MAIN_DIR/$BLOCKCHAIN_FOLDER/genesis/pipucks.json" 
export CONTRACT_FILE="$MAIN_DIR/$BLOCKCHAIN_FOLDER/scs/kmeans_estimation_3D.sol"
export CONTRACT_TEMP="$MAIN_DIR/$BLOCKCHAIN_FOLDER/scs/kmeans_estimation_3D.x.sol"
export CONTRACT_ABI="$MAIN_DIR/$BLOCKCHAIN_FOLDER/scs/build/$CONTRACT_NAME.abi"

# [NETWORKS]
export SUBNET="172.27.1"
#export SUBNET="192.168.1"
export MONITOR_ID="100"
export PREFIX="${ROBOTS_NAME}@${SUBNET}."

# [EXPERIMENT]
export NUM_ROB=12
export NUM_BYZ=4
export NUM_FAU=0
export NUM_COL=0

# [SC]
export DECIMAL_FACTOR=100000 # 1e5
export MAXUNVCLUSTER=3

export DIMS=3
export NUMPT=100
export MAXLIFE=3
export MINREP=0
export R=60
export RADIUS=$(echo $R*$DECIMAL_FACTOR | bc)

export TOTALASSETS=$(echo $NUM_ROB*20000000000000000000 | bc)
export MINBALANCE=$(echo $TOTALASSETS/$MAXUNVCLUSTER*2/3 | bc)
export INFLATIONR=$(echo $TOTALASSETS/$MAXUNVCLUSTER/10 | bc)