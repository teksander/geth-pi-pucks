#!/bin/bash

# [PATHS]
export BASE_FOLDER="blockchain_robots/geth-pi-pucks"
export EXPERIMENT_FOLDER="robots"
export BLOCKCHAIN_FOLDER="blockchain"

export ROBOTS_NAME="pi"
export MONITOR_NAME="eksander"

export MAIN_DIR="/home/$USER/$BASE_FOLDER"
export MAIN_DIR_ROBOTS="/home/$ROBOTS_NAME/geth-pi-pucks"

export CONTRACT_NAME="ForagingPtManagement"
export GENESIS_NAME="pipucks"

# [FILES]
export IDS_FILE="$MAIN_DIR/monitor/pi-pucks.txt"
export GENESIS_FILE="$MAIN_DIR/$BLOCKCHAIN_FOLDER/genesis/pipucks.json" 
export CONTRACT_FILE="$MAIN_DIR/$EXPERIMENT_FOLDER/scs/kmeans_estimation_3D.sol"
export CONTRACT_TEMPLATE="$MAIN_DIR/$EXPERIMENT_FOLDER/scs/kmeans_estimation_3D.x.sol"
export CONTRACT_ABI="$MAIN_DIR/$EXPERIMENT_FOLDER/controllers/scs/build/$CONTRACT_NAME.abi"

# [NETWORKS]
export SUBNET="172.27.1"
#export SUBNET="192.168.1"
export MONITOR_ID="100"
export PREFIX="${ROBOTS_NAME}@${SUBNET}."

# [EXPERIMENT]
export NUM_ROB=12
export NUM_BYZ=1

# [SC Parameters]
export DIMS=3
export NUMPT=100
export MAXLIFE=5
export MINREP=0 #minimum balance control only
export RADIUS=15000000 # 150 in red mean distance

export DECIMAL_FACTOR=100000 # 1e5
export MAXUNVCLUSTER=4
# shellcheck disable=SC2155
#export TOTALASSETS="200000000000000000000"
#export MINBALANCE=$(echo $TOTALASSETS/$MAXUNVCLUSTER | bc)
#No bc on the robots, temp solution
export TOTALASSETS=$(echo $NUM_ROB*20000000000000000000 | bc)
export MINBALANCE=$(echo $TOTALASSETS/$MAXUNVCLUSTER*2/3 | bc)